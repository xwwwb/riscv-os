#### objdump 命令

参数：

-h 打印各个段基本信息

```
root@host:~/riscv-os/rvos-exercises/3-2# objdump -h demo.o

demo.o:     file format elf64-x86-64

Sections:
Idx Name          Size      VMA               LMA               File off  Algn
  0 .text         0000002b  0000000000000000  0000000000000000  00000040  2**0
                  CONTENTS, ALLOC, LOAD, RELOC, READONLY, CODE
  1 .data         00000008  0000000000000000  0000000000000000  0000006c  2**2
                  CONTENTS, ALLOC, LOAD, DATA
  2 .bss          00000004  0000000000000000  0000000000000000  00000074  2**2
                  ALLOC
  3 .rodata       00000011  0000000000000000  0000000000000000  00000074  2**2
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  4 .comment      0000002c  0000000000000000  0000000000000000  00000085  2**0
                  CONTENTS, READONLY
  5 .note.GNU-stack 00000000  0000000000000000  0000000000000000  000000b1  2**0
                  CONTENTS, READONLY
  6 .note.gnu.property 00000020  0000000000000000  0000000000000000  000000b8  2**3
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  7 .eh_frame     00000038  0000000000000000  0000000000000000  000000d8  2**3
                  CONTENTS, ALLOC, LOAD, RELOC, READONLY, DATA
```

-x 打印更多信息

-s 将所有段内容按16位的方式打印出来

-d 将所有包含指令的段反汇编

```
oot@host:~/riscv-os/rvos-exercises/3-2# objdump -s -d demo.o

demo.o:     file format elf64-x86-64

Contents of section .text:
 0000 f30f1efa 554889e5 4883ec10 c745fc44  ....UH..H....E.D
 0010 44444448 8d3d0000 0000e800 0000008b  DDDH.=..........
 0020 05000000 008945fc 90c9c3             ......E....
Contents of section .data:
 0000 11111111 33333333                    ....3333
Contents of section .rodata:
 0000 22222222 68656c6c 6f20776f 726c6421  """"hello world!
 0010 00                                   .
Contents of section .comment:
 0000 00474343 3a202855 62756e74 7520392e  .GCC: (Ubuntu 9.
 0010 342e302d 31756275 6e747531 7e32302e  4.0-1ubuntu1~20.
 0020 30342e32 2920392e 342e3000           04.2) 9.4.0.
Contents of section .note.gnu.property:
 0000 04000000 10000000 05000000 474e5500  ............GNU.
 0010 020000c0 04000000 03000000 00000000  ................
Contents of section .eh_frame:
 0000 14000000 00000000 017a5200 01781001  .........zR..x..
 0010 1b0c0708 90010000 1c000000 1c000000  ................
 0020 00000000 2b000000 00450e10 8602430d  ....+....E....C.
 0030 06620c07 08000000                    .b......

Disassembly of section .text:

0000000000000000 <main>:
   0:	f3 0f 1e fa          	endbr64
   4:	55                   	push   %rbp
   5:	48 89 e5             	mov    %rsp,%rbp
   8:	48 83 ec 10          	sub    $0x10,%rsp
   c:	c7 45 fc 44 44 44 44 	movl   $0x44444444,-0x4(%rbp)
  13:	48 8d 3d 00 00 00 00 	lea    0x0(%rip),%rdi        # 1a <main+0x1a>
  1a:	e8 00 00 00 00       	callq  1f <main+0x1f>
  1f:	8b 05 00 00 00 00    	mov    0x0(%rip),%eax        # 25 <main+0x25>
  25:	89 45 fc             	mov    %eax,-0x4(%rbp)
  28:	90                   	nop
  29:	c9                   	leaveq
  2a:	c3                   	retq
```



#### readelf

针对elf的文件格式解析器

#### size

可以查看elf文件的代码段 数据段 bss段的长度

```
root@host:~/riscv-os/rvos-exercises/3-2# size demo.o
   text	   data	    bss	    dec	    hex	filename
    148	      8	      4	    160	     a0	demo.o
```



#### file

文件类型

```
root@host:~/riscv-os/rvos-exercises/3-2# file demo.o
demo.o: ELF 64-bit LSB relocatable, x86-64, version 1 (SYSV), not stripped
root@host:~/riscv-os/rvos-exercises/3-2# file demo.c
demo.c: C source, ASCII text
```

